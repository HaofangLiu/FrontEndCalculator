<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    //es7语法： async 和 await 成对出现
    const p1 = new Promise((resolve) => {
        setTimeout(() => {
            resolve('run successful11111')
        },1000)
    })

    const p2 = new Promise((resolve) => {
        setTimeout(() => {
            resolve('run successful22222')
        },2000)
    })

    //通过链式操作（then）的方法来处理异步---es6
    // p1.then((res) => {
    //     console.log(res);
    //     return p2;
    // }).then((res) => {
    //     console.log(res);
    //     console.log('all is run');
    // })

    //通过异步函数来调用函数
    //1. async and await 必须一起出现
    //2. await 后面必须是promise对象
    async function fn(){//这个是一个异步函数
        const res1 = await p1;
        console.log(res1);
        const res2 = await p2;
        console.log(res2);
        console.log('all is run');//这个也被await掉了
    }
    fn();

</script>
</html>